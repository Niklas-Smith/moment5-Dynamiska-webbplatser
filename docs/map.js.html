<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: map.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: map.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>  
  /**
   * create a map 
   */
  let map = L.map('map').setView([55.88, 12.85], 15  );
   
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 17,
    attribution: '&amp;copy; &lt;a href="http://www.openstreetmap.org/copyright">OpenStreetMap&lt;/a>'
}).addTo(map);

 
 
 /**
 *  Empty array that will store data from nominatim
 * @type {Array}
 */
 let mapInfo = []
let buttonEl = document.getElementById("button_search"); 

let searchEl = document.getElementById("searchmap");


    

buttonEl.addEventListener("click", getMapInfo)



/**
 * 
 * Fetch data from nominatim api
 * and store that data in empty array mapinfo in json format
 * @async
 * @function getMapInfo
 * @throws {Error} if response not ok
 * @returns {Promise} Data from api
 * 
*/
 async function getMapInfo()  {
let searchValue = searchEl.value

try {




const resp = await fetch (`https://nominatim.openstreetmap.org/search?format=json&amp;city=${searchValue}`) 


if(!resp.ok) {
 throw new error("Kan ej l√§sa in")
    
 }

mapInfo = await resp.json();

searchMap () 



 }catch(error) {
 console.error(error); }
 

 
 
}


/**
 * 
 * display map on right city from input and put it on right latitudes and longitudes
 * @function searchMap
 * @returns {number} latitudes
 * @returns {number} longitudes
 */
function searchMap () {

let mapSearch= mapInfo
let lat = mapSearch[0].lat
let lon = mapSearch[0].lon

map.panTo([lat, lon]);
L.marker([lat, lon]).addTo(map);

}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#WriteDiagram">WriteDiagram</a></li><li><a href="global.html#admission">admission</a></li><li><a href="global.html#getAdmissionInfo">getAdmissionInfo</a></li><li><a href="global.html#getMapInfo">getMapInfo</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#mapInfo">mapInfo</a></li><li><a href="global.html#searchMap">searchMap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Mon Jun 09 2025 11:01:27 GMT+0200 (centraleuropeisk sommartid)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
